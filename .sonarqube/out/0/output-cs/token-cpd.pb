Ž
HD:\Pdotnet\EmployeeManagementMicro\EmployeeManagementApi\AppDbContext.cs
	namespace 	!
EmployeeManagementApi
 
;  
public 
class 
AppDbContext 
: 
	DbContext %
{ 
public 

AppDbContext 
( 
DbContextOptions (
<( )
AppDbContext) 5
>5 6
options7 >
)> ?
:@ A
baseB F
(F G
optionsG N
)N O
{ 
} 
public		 

DbSet		 
<		 
EmployeeModel		 
>		 
	Employees		  )
{		* +
get		, /
;		/ 0
set		1 4
;		4 5
}		6 7
}

 ÛC
ZD:\Pdotnet\EmployeeManagementMicro\EmployeeManagementApi\Controllers\EmployeeController.cs
	namespace 	!
EmployeeManagementApi
 
.  
Controllers  +
;+ ,
[		 

EnableCors		 
]		 
public 
class 
EmployeeController 
:  !
ControllerBase" 0
{ 
private 
readonly 
AppDbContext !
_context" *
;* +
public 

EmployeeController 
( 
AppDbContext *
context+ 2
)2 3
{ 
String 
Name 
= 
$str 
; 
string 
Age 
= 
$str 
; 
_context 
= 
context 
; 
} 
[ 
HttpGet 
] 
public 

IActionResult 
Get 
( 
) 
{ 
var 
	employees 
= 
_context  
.  !
	Employees! *
.* +
ToList+ 1
(1 2
)2 3
;3 4
return 
Ok 
( 
	employees 
) 
; 
} 
[   
HttpGet   
(   
$str   
)   
]   
public!! 
IActionResult!! 
GetById!! !
(!!! "
int!!" %
id!!& (
)!!( )
{"" 
var##	 
employee## 
=## 
_context##  
.##  !
	Employees##! *
.##* +
Find##+ /
(##/ 0
id##0 2
)##2 3
;##3 4
if$$	 
($$ 
employee$$ 
==$$ 
null$$ 
)$$ 
return%% 
NotFound%% 
(%% 
)%% 
;%% 
return((	 
Ok(( 
((( 
employee(( 
)(( 
;(( 
})) 
[,, 
HttpPost,, 
],, 
public-- 
IActionResult-- 
Create--  
(--  !
[--! "
FromBody--" *
]--* +
EmployeeModel--, 9
employee--: B
)--B C
{.. 
_context//	 
.// 
	Employees// 
.// 
Add// 
(//  
employee//  (
)//( )
;//) *
_context00	 
.00 
SaveChanges00 
(00 
)00 
;00  
return11	 
CreatedAtAction11 
(11  
nameof11  &
(11& '
GetById11' .
)11. /
,11/ 0
new111 4
{115 6
id117 9
=11: ;
employee11< D
.11D E
Id11E G
}11H I
,11I J
employee11K S
)11S T
;11T U
}22 
[55 
HttpPut55 
(55 
$str55 
)55 
]55 
public66 
IActionResult66 
Update66  
(66  !
int66! $
id66% '
,66' (
[66) *
FromBody66* 2
]662 3
EmployeeModel664 A
updatedEmployee66B Q
)66Q R
{77 
var88	 
existingEmployee88 
=88 
_context88  (
.88( )
	Employees88) 2
.882 3
Find883 7
(887 8
id888 :
)88: ;
;88; <
if99	 
(99 
existingEmployee99 
==99  
null99! %
)99% &
return:: 
NotFound:: 
(:: 
):: 
;:: 
existingEmployee==	 
.== 
	firstName== #
===$ %
updatedEmployee==& 5
.==5 6
	firstName==6 ?
;==? @
existingEmployee>>	 
.>> 
lastname>> "
=>># $
updatedEmployee>>% 4
.>>4 5
lastname>>5 =
;>>= >
existingEmployee??	 
.?? 
position?? "
=??# $
updatedEmployee??% 4
.??4 5
position??5 =
;??= >
_contextCC	 
.CC 
SaveChangesCC 
(CC 
)CC 
;CC  
returnDD	 
	NoContentDD 
(DD 
)DD 
;DD 
}EE 
[FF 
	HttpPatchFF 
(FF 
$strFF 
)FF 
]FF 
publicGG 
IActionResultGG 
PartialUpdateGG '
(GG' (
intGG( +
idGG, .
,GG. /
[GG0 1
FromBodyGG1 9
]GG9 :
JsonPatchDocumentGG; L
<GGL M
EmployeeModelGGM Z
>GGZ [
patchDocGG\ d
)GGd e
{GGe f
ifHH 

(HH
 
patchDocHH 
==HH 
nullHH 
||HH 
idHH 
<=HH !
$numHH! "
)HH" #
{HH# $

BadRequestII 
(II 
)II 
;II 
}JJ 	
varKK 
existingEmployeeKK 
=KK 
_contextKK '
.KK' (
	EmployeesKK( 1
.KK1 2
WhereKK2 7
(KK7 8
sKK8 9
=>KK: <
sKK= >
.KK> ?
IdKK? A
==KKB D
idKKE G
)KKG H
.KKH I
FirstOrDefaultKKI W
(KKW X
)KKX Y
;KKY Z
ifLL 

(LL
 
existingEmployeeLL 
==LL 
nullLL #
)LL# $
{LL$ %
returnMM 
NotFoundMM 
(MM 
)MM 
;MM 
}NN 	
varOO 
empOO 
=OO 
newOO 
EmployeeModelOO #
{OO# $
IdPP 
=PP 
existingEmployeePP !
.PP! "
IdPP" $
,PP$ %
	firstNameQQ 
=QQ 
existingEmployeeQQ (
.QQ( )
	firstNameQQ) 2
,QQ2 3
lastnameRR 
=RR 
existingEmployeeRR '
.RR' (
lastnameRR( 0
,RR0 1
positionSS 
=SS 
existingEmployeeSS '
.SS' (
positionSS( 0
,SS0 1
}TT 	
;TT	 

ifVV 

(VV
 
patchDocVV 
!=VV 
nullVV 
)VV 
{VV 
patchDocWW 
.WW 
ApplyToWW 
(WW 
empWW  
,WW  !

ModelStateWW" ,
)WW, -
;WW- .
}XX 	
ifZZ 

(ZZ
 

ModelStateZZ 
.ZZ 
IsValidZZ 
)ZZ 
{ZZ 
return[[ 

BadRequest[[ 
([[ 

ModelState[[ (
)[[( )
;[[) *
}\\ 	
existingEmployee]] 
.]] 
	firstName]] "
=]]# $
emp]]% (
.]]( )
	firstName]]) 2
;]]2 3
existingEmployee^^ 
.^^ 
lastname^^ !
=^^" #
emp^^$ '
.^^' (
lastname^^( 0
;^^0 1
existingEmployee__ 
.__ 
position__ !
=__" #
emp__$ '
.__' (
position__( 0
;__0 1
_context`` 
.`` 
SaveChanges`` 
(`` 
)`` 
;`` 
returnaa 
	NoContentaa 
(aa 
)aa 
;aa 
}bb 
[ee 

HttpDeleteee 
(ee 
$stree 
)ee 
]ee 
publicff 
IActionResultff 
Deleteff  
(ff  !
intff! $
idff% '
)ff' (
{gg 
varhh	 
employeeToRemovehh 
=hh 
_contexthh  (
.hh( )
	Employeeshh) 2
.hh2 3
Findhh3 7
(hh7 8
idhh8 :
)hh: ;
;hh; <
ifii	 
(ii 
employeeToRemoveii 
==ii  
nullii! %
)ii% &
returnjj 
NotFoundjj 
(jj 
)jj 
;jj 
_contextmm	 
.mm 
	Employeesmm 
.mm 
Removemm "
(mm" #
employeeToRemovemm# 3
)mm3 4
;mm4 5
_contextnn	 
.nn 
SaveChangesnn 
(nn 
)nn 
;nn  
returnoo	 
	NoContentoo 
(oo 
)oo 
;oo 
}pp 
}qq …
ID:\Pdotnet\EmployeeManagementMicro\EmployeeManagementApi\EmployeeModel.cs
	namespace 	!
EmployeeManagementApi
 
;  
public 
class 
EmployeeModel 
{ 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
public 
string 
? 
	firstName  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
string 
? 
lastname 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
? 
position 
{  !
get" %
;% &
set' *
;* +
}, -
}

 Ó
[D:\Pdotnet\EmployeeManagementMicro\EmployeeManagementApi\Migrations\20231231145654_check.cs
	namespace 	!
EmployeeManagementApi
 
.  

Migrations  *
{ 
public		 

partial		 
class		 
check		 
:		  
	Migration		! *
{

 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
AlterDatabase *
(* +
)+ ,
. 

Annotation 
( 
$str +
,+ ,
$str- 6
)6 7
;7 8
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str !
,! "
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
int& )
>) *
(* +
type+ /
:/ 0
$str1 6
,6 7
nullable8 @
:@ A
falseB G
)G H
. 

Annotation #
(# $
$str$ C
,C D(
MySqlValueGenerationStrategyE a
.a b
IdentityColumnb p
)p q
,q r
	FirstName 
= 
table  %
.% &
Column& ,
<, -
string- 3
>3 4
(4 5
type5 9
:9 :
$str; E
,E F
nullableG O
:O P
trueQ U
)U V
. 

Annotation #
(# $
$str$ 3
,3 4
$str5 >
)> ?
,? @
LastName 
= 
table $
.$ %
Column% +
<+ ,
string, 2
>2 3
(3 4
type4 8
:8 9
$str: D
,D E
nullableF N
:N O
trueP T
)T U
. 

Annotation #
(# $
$str$ 3
,3 4
$str5 >
)> ?
,? @
Position 
= 
table $
.$ %
Column% +
<+ ,
string, 2
>2 3
(3 4
type4 8
:8 9
$str: D
,D E
nullableF N
:N O
trueP T
)T U
. 

Annotation #
(# $
$str$ 3
,3 4
$str5 >
)> ?
} 
, 
constraints 
: 
table "
=># %
{ 
table   
.   

PrimaryKey   $
(  $ %
$str  % 3
,  3 4
x  5 6
=>  7 9
x  : ;
.  ; <
Id  < >
)  > ?
;  ? @
}!! 
)!! 
."" 

Annotation"" 
("" 
$str"" +
,""+ ,
$str""- 6
)""6 7
;""7 8
}## 	
	protected&& 
override&& 
void&& 
Down&&  $
(&&$ %
MigrationBuilder&&% 5
migrationBuilder&&6 F
)&&F G
{'' 	
migrationBuilder(( 
.(( 
	DropTable(( &
(((& '
name)) 
:)) 
$str)) !
)))! "
;))" #
}** 	
}++ 
},, ‚
`D:\Pdotnet\EmployeeManagementMicro\EmployeeManagementApi\Migrations\20231231150355_ashwin die.cs
	namespace 	!
EmployeeManagementApi
 
.  

Migrations  *
{ 
public 

partial 
class 
	ashwindie "
:# $
	Migration% .
{		 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
} 	
} 
} Í
CD:\Pdotnet\EmployeeManagementMicro\EmployeeManagementApi\Program.cs
var 
builder 
= 
WebApplication 
. 
CreateBuilder *
(* +
args+ /
)/ 0
;0 1
var 
services 
= 
builder 
. 
Services 
;  
builder		 
.		 
Services		 
.		 
AddControllers		 
(		  
)		  !
.		! "
AddNewtonsoftJson		" 3
(		3 4
)		4 5
;		5 6
builder

 
.

 
Services

 
.

 #
AddEndpointsApiExplorer

 (
(

( )
)

) *
;

* +
builder 
. 
Services 
. 
AddSwaggerGen 
( 
)  
;  !
builder 
. 
Services 
. 
AddCors 
( 
options  
=>! #
{ 
options 
. 
	AddPolicy 
( 
$str "
," #
builder$ +
=>, .
builder/ 6
. 	
WithOrigins	 
( 
$str ,
), -
. 	
AllowAnyMethod	 
( 
) 
. 	
AllowAnyHeader	 
( 
) 
) 
; 
} 
) 
; 
services 
. 	
AddDbContext	 
< 
AppDbContext "
>" #
(# $
options$ +
=>, .
options 
. 
UseMySql 
( 
$str `
,` a
newb e
MySqlServerVersionf x
(x y
newy |
Version	} „
(
„ …
)
… †
)
† ‡
)
‡ ˆ
)
ˆ ‰
;
‰ Š
var 
app 
= 	
builder
 
. 
Build 
( 
) 
; 
if 
( 
app 
. 
Environment 
. 
IsDevelopment !
(! "
)" #
)# $
{ 
app 
. %
UseDeveloperExceptionPage !
(! "
)" #
;# $
app 
. 

UseSwagger 
( 
) 
; 
app 
. 
UseSwaggerUI 
( 
c 
=> 
{ 
c 	
.	 

SwaggerEndpoint
 
( 
$str 4
,4 5
$str5 O
)O P
;P Q
} 
) 
; 
}   
app"" 
."" 
UseHttpsRedirection"" 
("" 
)"" 
;"" 
app## 
.## 
UseCors## 
(## 
$str## 
)## 
;## 
app$$ 
.$$ 
UseAuthorization$$ 
($$ 
)$$ 
;$$ 
app&& 
.&& 
MapControllers&& 
(&& 
)&& 
;&& 
app'' 
.'' 
Run'' 
('' 
)'' 	
;''	 
